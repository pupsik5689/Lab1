#include <stdio.h>
#include <stdlib.h>
#include <locale.h>


int main()
{
	setlocale(LC_ALL, "Rus");

  int N = 0, i = 0,  mant = 0;
  float x = 0.0, drob = 0.0, min = 0.0, max = 0.0;
	float* mas;
  long double sum = 0.0;


	printf("Введите кол-во элементов:\t");			  //
	scanf_s("  \t%d", &N);								            //
													                      //	
	printf("Введите минимальный элемент:\t");		  //	Ввод значений пользователем
	scanf_s("  \t%f", &min);							            //
													                      //
	printf("Введите максимальный элемент:\t");		//
	scanf_s("  \t%f", &max);


	if ((min >= max) || (N <= 0))				//
	{							                    //	проверка на 
		printf("ERROR");		            //	допустимые значения
		return 0;				                //
	}							                    //


	mas = (float*)malloc(N * sizeof(float));

	for (i = 0; i < N; i++)
	{
    
		x = (((float)rand())/ RAND_MAX) * (max - min) + min;		//	создание вещесвенного числа 	
		mas[i] = x;                                             //	в заданном диапазоне

		drob = x - (int)x;				      //  дробная часть 

		drob = drob * 1000000;	
    mant = (int)drob;               //	мантисса 

    if (mant == i)					        //	сравнение мантиссы и дробной части
    { 
      sum -= x;					            //  при совпадении число вычетается из общей суммы
      
    }
		else							              //	иначе
			sum += x;					            //	прибавляется к общей сумме

	}

	printf("Полученная сумма:\t%f", sum);

	free(mas);

	return 0;
}
